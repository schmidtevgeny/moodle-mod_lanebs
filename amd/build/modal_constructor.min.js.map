{"version":3,"file":"modal_constructor.min.js","sources":["../src/modal_constructor.js"],"sourcesContent":["define([\n    \"exports\",\n    \"jquery\",\n    \"core/ajax\",\n    \"core/modal_factory\",\n    \"core/modal_events\",\n    \"core/notification\",\n    \"core/modal\",\n    \"core/custom_interaction_events\",\n    \"core/modal_registry\",\n], function (\n    exports,\n    $,\n    ajax,\n    ModalFactory,\n    ModalEvents,\n    Notification,\n    Modal,\n    CustomEvents,\n    ModalRegistry,\n) {\n\n    /**\n     * Constructor for the Modal\n     *\n     */\n    let ModalConstructor = function(root) {\n        Modal.call(this, root);\n    };\n\n    ModalConstructor.TYPE = 'mod_lanebs_constructor';\n    ModalConstructor.prototype = Object.create(Modal.prototype);\n    ModalConstructor.prototype.constructor = ModalConstructor;\n    ModalConstructor.prototype.breadcrumbs = {};\n    ModalConstructor.SCRIPT_BUTTON = '#script_button';\n\n    let SELECTORS = {\n        'SCRIPT_BUTTON': '#script_button',\n        'APP_CONTAINER': 'div#app_container',\n    };\n\n    ModalConstructor.prototype.registerEventListeners = function () {\n        Modal.prototype.registerEventListeners.call(this);\n\n        this.getRoot().on(ModalEvents.hidden, function () {\n            this.destroy();\n        }.bind(this));\n\n    };\n\n    ModalConstructor.prototype.getAjaxCall = function (methodname, args, callback) {\n        return ajax.call([\n            {\n                methodname: methodname,\n                args,\n            }\n        ])[0].then(function(response) {\n            return response;\n        }).done(function(response) {\n            callback(JSON.parse(response['body']));\n            return true;\n        }).fail(function (response) {\n            console.log(response);\n            callback({'error': true, 'code': 500, 'message': 'error'});\n            return false;\n        });\n    };\n\n    ModalRegistry.register(ModalConstructor.TYPE, ModalConstructor, 'mod_lanebs/modal_constructor');\n\n    return ModalConstructor;\n});"],"names":["define","exports","$","ajax","ModalFactory","ModalEvents","Notification","Modal","CustomEvents","ModalRegistry","ModalConstructor","root","call","this","TYPE","prototype","Object","create","constructor","breadcrumbs","SCRIPT_BUTTON","registerEventListeners","getRoot","on","hidden","destroy","bind","getAjaxCall","methodname","args","callback","then","response","done","JSON","parse","fail","console","log","error","code","message","register"],"mappings":"AAAAA,sCAAO,CACH,UACA,SACA,YACA,qBACA,oBACA,oBACA,aACA,iCACA,wBACD,SACCC,QACAC,EACAC,KACAC,aACAC,YACAC,aACAC,MACAC,aACAC,eAOA,IAAIC,iBAAmB,SAASC,MAC5BJ,MAAMK,KAAKC,KAAMF,OAGrBD,iBAAiBI,KAAO,0BACxBJ,iBAAiBK,UAAYC,OAAOC,OAAOV,MAAMQ,YACtBG,YAAcR,iBACzCA,iBAAiBK,UAAUI,YAAc,GACzCT,iBAAiBU,cAAgB,iBAoCjC,OA7BAV,iBAAiBK,UAAUM,uBAAyB,WAChDd,MAAMQ,UAAUM,uBAAuBT,KAAKC,MAE5CA,KAAKS,UAAUC,GAAGlB,YAAYmB,OAAQ,WAClCX,KAAKY,WACPC,KAAKb,QAIXH,iBAAiBK,UAAUY,YAAc,SAAUC,WAAYC,KAAMC,UACjE,OAAO3B,KAAKS,KAAK,CACb,CACIgB,WAAYA,WACZC,aAEL,GAAGE,MAAK,SAASC,UAChB,OAAOA,YACRC,MAAK,SAASD,UAEb,OADAF,SAASI,KAAKC,MAAMH,SAAe,QAC5B,KACRI,MAAK,SAAUJ,UAGd,OAFAK,QAAQC,IAAIN,UACZF,SAAS,CAACS,OAAS,EAAMC,KAAQ,IAAKC,QAAW,WAC1C,MAIfhC,cAAciC,SAAShC,iBAAiBI,KAAMJ,iBAAkB,gCAEzDA,gBACX"}