{"version":3,"file":"modal_constructor.min.js","sources":["../src/modal_constructor.js"],"sourcesContent":["import ajax from 'core/ajax';\nimport Modal from 'core/modal';\nimport CustomEvents from 'core/custom_interaction_events';\n\nexport default class ModalConstructor extends Modal {\n    static TYPE = 'mod_lanebs/modal_constructor';\n    static TEMPLATE = 'mod_lanebs/modal_constructor';\n    static SELECTORS = {\n        'SCRIPT_BUTTON': '#script_button',\n        'APP_CONTAINER': 'div#app_container',\n        'CLOSE_CROSS': '.close',\n    };\n    static breadcrumbs = {};\n\n    configure(modalConfig) {\n        super.configure(modalConfig);\n    }\n\n    registerEventListeners() {\n        const modal = this;\n        this.getRoot().on(CustomEvents.events.hidden, function () {\n            modal.destroy();\n        });\n        this.getRoot().on(CustomEvents.events.activate, ModalConstructor.SELECTORS.CLOSE_CROSS,\n            function () {\n                modal.destroy();\n            });\n    }\n\n    static getAjaxCall(methodname, args, callback) {\n        return ajax.call([\n            {\n                methodname: methodname,\n                args,\n            }\n        ])[0].then(function(response) {\n            callback(JSON.parse(response['body']));\n            return true;\n        }).fail(function (response) {\n            window.console.log(response);\n            callback({'error': true, 'code': 500, 'message': 'error'});\n            return false;\n        });\n    }\n\n    static appendScript(container, src) {\n        let script = document.createElement('script');\n        script.src = src;\n        script.type = 'text/javascript';\n        script.defer = true;\n\n        container.appendChild(script);\n    }\n\n    static appendHeadStylesheet(href) {\n        let script = document.createElement('link');\n        script.type = 'text/css';\n        script.rel = 'stylesheet';\n        script.href = href;\n\n        document.head.appendChild(script);\n    }\n}"],"names":["ModalConstructor","Modal","configure","modalConfig","registerEventListeners","modal","this","getRoot","on","CustomEvents","events","hidden","destroy","activate","SELECTORS","CLOSE_CROSS","methodname","args","callback","ajax","call","then","response","JSON","parse","fail","window","console","log","container","src","script","document","createElement","type","defer","appendChild","href","rel","head"],"mappings":"4oBAIqBA,yBAAyBC,eAU1CC,UAAUC,mBACAD,UAAUC,aAGpBC,+BACUC,MAAQC,UACTC,UAAUC,GAAGC,mCAAaC,OAAOC,QAAQ,WAC1CN,MAAMO,kBAELL,UAAUC,GAAGC,mCAAaC,OAAOG,SAAUb,iBAAiBc,UAAUC,aACvE,WACIV,MAAMO,gCAICI,WAAYC,KAAMC,iBAC1BC,cAAKC,KAAK,CACb,CACIJ,WAAYA,WACZC,KAAAA,QAEL,GAAGI,MAAK,SAASC,iBAChBJ,SAASK,KAAKC,MAAMF,SAAQ,QACrB,KACRG,MAAK,SAAUH,iBACdI,OAAOC,QAAQC,IAAIN,UACnBJ,SAAS,QAAU,OAAc,YAAgB,WAC1C,yBAIKW,UAAWC,SACvBC,OAASC,SAASC,cAAc,UACpCF,OAAOD,IAAMA,IACbC,OAAOG,KAAO,kBACdH,OAAOI,OAAQ,EAEfN,UAAUO,YAAYL,oCAGEM,UACpBN,OAASC,SAASC,cAAc,QACpCF,OAAOG,KAAO,WACdH,OAAOO,IAAM,aACbP,OAAOM,KAAOA,KAEdL,SAASO,KAAKH,YAAYL,kEAxDb/B,wBACH,gDADGA,4BAEC,gDAFDA,6BAGE,eACE,+BACA,gCACF,2BANFA,+BAQI"}