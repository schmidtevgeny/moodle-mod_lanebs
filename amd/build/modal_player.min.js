define ("mod_lanebs/modal_player",["exports","jquery","core/ajax","core/modal_factory","core/modal_events","core/notification","core/modal","core/custom_interaction_events","core/modal_registry","core/str"],function(a,b,c,d,e,f,g,h,i,j){var k={CONTENT_BLOCK:"[data-action=\"player_content_block\"]",CLOSE_BUTTON:"[data-action=\"close_button\"]",CLOSE_CROSS:".close",ROOT_MODAL:"[data-region='modal-container']"},l=function(a){g.call(this,a);l.prototype.modal=this;if(!this.getFooter().find(k.CLOSE_BUTTON).length){f.exception({message:j.get_string("lanebs_error_close","mod_lanebs")})}};l.TYPE="mod_lanebs-player";l.CONTENT_BLOCK=k.CONTENT_BLOCK;l.prototype=Object.create(g.prototype);l.prototype.constructor=l;l.prototype.registerEventListeners=function(){g.prototype.registerEventListeners.call(this);this.getModal().on(h.events.activate,k.CLOSE_BUTTON,function(a){a.preventDefault();a.stopPropagation();this.getRoot().trigger("click")}.bind(this));this.getModal().on(h.events.activate,k.CLOSE_CROSS,function(a){a.preventDefault();a.stopPropagation();this.getRoot().trigger("click")}.bind(this));this.getRoot().on(h.events.activate,function(a){var c=b(k.ROOT_MODAL);if(1<c.length){c=c[1]}else{c=c[0]}if(a.target===c){this.getRoot().remove()}return!0}.bind(this));this.getModal().on(h.events.scrollBottom,k.CONTENT_BLOCK,function(a){var c=navigator.userAgent.toLowerCase(),d=!!c.match(/(android|avantgo|blackberry|bolt|boost|cricket|docomo|fone|hiptop|mini|mobi|palm|phone|pie|tablet|up\.browser|up\.link|webos|wos|ios)/g);d=d||1006>window.innerWidth;var e=b(a.currentTarget).attr("data-id");console.log(e);var f="<iframe id=\"player_iframe\" src=\"https://www.youtube.com/embed/"+e+"\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen style=\"width:100%;height:100%;\"></iframe>";console.log(f);console.log(b(k.CONTENT_BLOCK));b(k.CONTENT_BLOCK).append(f);l.prototype.modal.getBody().find(k.CONTENT_BLOCK).append(f)})};i.register(l.TYPE,l,"mod_lanebs/modal_player");return l});
//# sourceMappingURL=modal_player.min.js.map
