define("mod_lanebs/modal_player",["exports","core/modal","jquery","core/custom_interaction_events","core/ajax"],(function(_exports,_modal,_jquery,_custom_interaction_events,_ajax){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_modal=_interopRequireDefault(_modal),_jquery=_interopRequireDefault(_jquery),_custom_interaction_events=_interopRequireDefault(_custom_interaction_events),_ajax=_interopRequireDefault(_ajax);class ModalPlayer extends _modal.default{configure(modalConfig){super.configure(modalConfig),ModalPlayer.CONTENT_BLOCK=ModalPlayer.SELECTORS.CONTENT_BLOCK,ModalPlayer.PLAYER_MODAL=ModalPlayer.SELECTORS.PLAYER_MODAL}registerEventListeners(){const modal=this;super.registerEventListeners(),this.getModal().on(_custom_interaction_events.default.events.activate,ModalPlayer.SELECTORS.CLOSE_BUTTON,(function(){modal.destroy()})),this.getModal().on(_custom_interaction_events.default.events.scrollBottom,ModalPlayer.SELECTORS.CONTENT_BLOCK,(function(e){let linkId=(0,_jquery.default)(e.currentTarget).attr("data-id"),iframeBlock='<iframe id="player_iframe" src="https://www.youtube.com/embed/'+linkId+'" title="YouTube video player"frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="width:100%;height:100%;"></iframe>';(0,_jquery.default)(ModalPlayer.SELECTORS.CONTENT_BLOCK).append(iframeBlock),modal.getBody().find(ModalPlayer.SELECTORS.CONTENT_BLOCK).append(iframeBlock),_ajax.default.call([{methodname:"mod_lanebs_send_log",args:{id:linkId,type:"video"}}])}))}}return _exports.default=ModalPlayer,_defineProperty(ModalPlayer,"TYPE","mod_lanebs/modal_player"),_defineProperty(ModalPlayer,"TEMPLATE","mod_lanebs/modal_player"),_defineProperty(ModalPlayer,"SELECTORS",{CONTENT_BLOCK:'[data-action="player_content_block"]',CLOSE_BUTTON:'[data-action="close_button"]',CLOSE_CROSS:".close",ROOT_MODAL:"[data-region='modal-container']",PLAYER_MODAL:'p[data-action="player_modal"]'}),_exports.default}));

//# sourceMappingURL=modal_player.min.js.map