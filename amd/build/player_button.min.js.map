{"version":3,"file":"player_button.min.js","sources":["../src/player_button.js"],"sourcesContent":["import $ from 'jquery';\nimport ajax from 'core/ajax';\nimport {init as ModalPlayerHandle} from './modal_player_handle';\nimport ModalPlayer from \"./modal_player\";\n\nexport const init = () => {\n    console.log(ModalPlayer.SELECTORS.PLAYER_MODAL);\n    console.log(ModalPlayer.PLAYER_MODAL);\n    $(ModalPlayer.SELECTORS.PLAYER_MODAL).on('click', function(e) {\n        let linkId = $(e.currentTarget).attr('data-id');\n        ModalPlayerHandle(e, linkId);\n        // отправка статистики\n        let bookId = $(e.currentTarget).attr('data-book');\n        let videoId = $(e.currentTarget).attr('data-unique');\n        let args = {\n            bookId: bookId,\n            videoId: videoId\n        };\n        ajax.call([\n            {\n                methodname: 'mod_lanebs_video_stat',\n                args,\n            }\n        ])[0].then(function (response) {\n            window.console.log(JSON.parse(response['body']));\n        }).fail(function (response) {\n            window.console.log(response);\n        });\n    });\n};"],"names":["console","log","ModalPlayer","SELECTORS","PLAYER_MODAL","on","e","linkId","currentTarget","attr","args","bookId","videoId","call","methodname","then","response","window","JSON","parse","fail"],"mappings":"8dAKoB,KAChBA,QAAQC,IAAIC,sBAAYC,UAAUC,cAClCJ,QAAQC,IAAIC,sBAAYE,kCACtBF,sBAAYC,UAAUC,cAAcC,GAAG,SAAS,SAASC,OACnDC,QAAS,mBAAED,EAAEE,eAAeC,KAAK,yCACnBH,EAAGC,YAIjBG,KAAO,CACPC,QAHS,mBAAEL,EAAEE,eAAeC,KAAK,aAIjCG,SAHU,mBAAEN,EAAEE,eAAeC,KAAK,8BAKjCI,KAAK,CACN,CACIC,WAAY,wBACZJ,KAAAA,QAEL,GAAGK,MAAK,SAAUC,UACjBC,OAAOjB,QAAQC,IAAIiB,KAAKC,MAAMH,SAAQ,UACvCI,MAAK,SAAUJ,UACdC,OAAOjB,QAAQC,IAAIe"}