{"version":3,"file":"player_button.min.js","sources":["../src/player_button.js"],"sourcesContent":["define([\"exports\", \"jquery\", \"mod_lanebs/modal_player_handle\", \"core/ajax\", \"mod_lanebs/modal_player\"],\n    function (exports, $, ModalPlayerHandle, ajax, ModalPlayer) {\n        return {\n            init: function(e) {\n                $(ModalPlayer.prototype.PLAYER_MODAL).on('click', function(e) {\n                    let linkId = $(e.currentTarget).attr('data-id');\n                    ModalPlayerHandle.init(e, linkId);\n\n                    // отправка статистики\n                    let bookId = $(e.currentTarget).attr('data-book');\n                    let videoId = $(e.currentTarget).attr('data-unique');\n                    let args = {\n                        bookId: bookId,\n                        videoId: videoId\n                    };\n                    ajax.call([\n                        {\n                            methodname: 'mod_lanebs_video_stat',\n                            args,\n                        }\n                    ])[0].done(function (response) {\n                        console.log(JSON.parse(response['body']));\n                    }).fail(function (response) {\n                        console.log(response);\n                    });\n                });\n            }\n        };\n    });"],"names":["define","exports","$","ModalPlayerHandle","ajax","ModalPlayer","init","e","prototype","PLAYER_MODAL","on","linkId","currentTarget","attr","args","bookId","videoId","call","methodname","done","response","console","log","JSON","parse","fail"],"mappings":"AAAAA,kCAAO,CAAC,UAAW,SAAU,iCAAkC,YAAa,4BACxE,SAAUC,QAASC,EAAGC,kBAAmBC,KAAMC,aAC3C,MAAO,CACHC,KAAM,SAASC,GACXL,EAAEG,YAAYG,UAAUC,cAAcC,GAAG,SAAS,SAASH,GACvD,IAAII,OAAST,EAAEK,EAAEK,eAAeC,KAAK,WACrCV,kBAAkBG,KAAKC,EAAGI,QAG1B,IAEIG,KAAO,CACPC,OAHSb,EAAEK,EAAEK,eAAeC,KAAK,aAIjCG,QAHUd,EAAEK,EAAEK,eAAeC,KAAK,gBAKtCT,KAAKa,KAAK,CACN,CACIC,WAAY,wBACZJ,aAEL,GAAGK,MAAK,SAAUC,UACjBC,QAAQC,IAAIC,KAAKC,MAAMJ,SAAe,UACvCK,MAAK,SAAUL,UACdC,QAAQC,IAAIF,iBAKhC"}