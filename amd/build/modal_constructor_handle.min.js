define("mod_lanebs/modal_constructor_handle",["exports","jquery","core/custom_interaction_events","./modal_constructor"],(function(_exports,_jquery,_custom_interaction_events,_modal_constructor){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_custom_interaction_events=_interopRequireDefault(_custom_interaction_events),_modal_constructor=_interopRequireDefault(_modal_constructor);_exports.init=base_url=>{let trigger=(0,_jquery.default)("#lan_constructor_button");_modal_constructor.default.getAjaxCall("mod_lanebs_get_subscriber_token",[],(function(data){data.subscriber_token&&(0,_jquery.default)(trigger).attr("data-token",data.subscriber_token)})),_modal_constructor.default.getAjaxCall("mod_lanebs_get_service_token",[],(function(data){data.service_token&&(0,_jquery.default)(trigger).attr("data-service",data.service_token)})),(0,_jquery.default)(trigger).on(_custom_interaction_events.default.events.activate,(function(){(0,_jquery.default)("form.mform")[0].reset();_modal_constructor.default.create({}).then((function(resolve){const modalRoot=resolve.getRoot();(0,_jquery.default)(modalRoot).find(".modal-dialog").addClass("modal_dialog_lan_videos"),_modal_constructor.default.getAjaxCall("mod_lanebs_get_script_names",[],(function(response){const appContainer=document.getElementById("app-container"),base=base_url+"/front/";_modal_constructor.default.appendHeadStylesheet("https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&amp;display=swap"),_modal_constructor.default.appendHeadStylesheet("https://fonts.googleapis.com/icon?family=Material+Icons"),Array.isArray(response.scripts)?_jquery.default.each(response.scripts,(function(key,value){value.includes(".css")?_modal_constructor.default.appendHeadStylesheet(base+value):_modal_constructor.default.appendScript(appContainer,base+value)})):(_modal_constructor.default.appendHeadStylesheet(base+"styles.css"),_modal_constructor.default.appendScript(appContainer,base+"runtime.js"),_modal_constructor.default.appendScript(appContainer,base+"polyfills.js"),_modal_constructor.default.appendScript(appContainer,base+"vendor.js"),_modal_constructor.default.appendScript(appContainer,base+"main.js"))})),resolve.show()}))}))}}));

//# sourceMappingURL=modal_constructor_handle.min.js.map