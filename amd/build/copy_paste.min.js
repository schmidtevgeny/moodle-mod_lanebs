define ("mod_lanebs/copy_paste",["exports","jquery","core/ajax","core/str"],function(a,b,c,d){return{init:function init(){var a={PASTE_BUTTON:"#id_paste_mod",COPY_BUTTON:"#id_copy_mod",NAME_FIELD:"#id_name",CONTENT_FIELD:"[name=\"content\"]",COVER_FIELD:"[name=\"cover\"]",BIBLIO_RECORD_FIELD:"[name=\"biblio_record\"]",DESCRIPTION_EDITOR_FIELD:"#id_introeditoreditable",DESCRIPTION_TEXTFIELD:"#id_introeditor",CONTENT_NAME_FIELD:"#id_content_name",PAGE_NUMBER_FIELD:"#id_page_number",VISIBLE_SELECT:"#id_visible",IDNUMBER_FIELD:"#id_cmidnumber"},e=localStorage.getItem("lanebs_mod");if(!e){b(a.PASTE_BUTTON).addClass("hidden")}b(a.COPY_BUTTON).on("click",function(){b(a.PASTE_BUTTON).removeClass("hidden");var c=window.location.search,e=new URLSearchParams(c),f=e.get("update");if(!f){d.get_string("lanebs_copy_attention","mod_lanebs").done(function(a){console.log(a);alert(a)})}localStorage.setItem("lanebs_mod",f)});b(a.PASTE_BUTTON).on("click",function(){var e=parseInt(localStorage.getItem("lanebs_mod"));if(!e){d.get_string("lanebs_copy_error","mod_lanebs").done(function(a){console.log(a);alert(a)})}else{c.call([{methodname:"mod_lanebs_lanebs_info",args:{id:e}}])[0].then(function(a){return a}).done(function(c){var d=JSON.parse(c.body);b(a.BIBLIO_RECORD_FIELD).val(d.biblio_record);b(a.COVER_FIELD).val(d.cover);b(a.NAME_FIELD).val(d.name);b(a.CONTENT_NAME_FIELD).val(d.content_name);b(a.DESCRIPTION_EDITOR_FIELD).text(d.intro);b(a.DESCRIPTION_TEXTFIELD).val(d.intro);b(a.PAGE_NUMBER_FIELD).val(d.page_number);b(a.CONTENT_FIELD).val(d.content);b(a.VISIBLE_SELECT).val(d.visible);return c}).fail(function(a){console.log(a);return!1})}})}}});
//# sourceMappingURL=copy_paste.min.js.map
