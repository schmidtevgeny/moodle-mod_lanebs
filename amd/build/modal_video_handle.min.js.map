{"version":3,"file":"modal_video_handle.min.js","sources":["../src/modal_video_handle.js"],"sourcesContent":["import $ from 'jquery';\nimport {getStrings} from 'core/str';\nimport ModalVideo from './modal_video';\nimport CustomEvents from 'core/custom_interaction_events';\n//import ModalEvents from 'core/modal_events';\n\nexport const init = () => {\n    const strings = [\n        'lanebs_read_pg'\n    ];\n    const getLangStrings = () => {\n        let names = [];\n        strings.forEach(function (value) {\n            names.push({key: value, component: 'mod_lanebs'});\n        });\n        return names;\n    };\n    const stringsTransform = (langStrings) => {\n        let resultStrings = [];\n        strings.forEach(function (value, index) {\n            resultStrings[value] = langStrings[index];\n        });\n        return resultStrings;\n    };\n    const trigger = $('#id_modal_video_button');\n    const modal = ModalVideo.create({});\n    modal.then(resolve => {\n        const strings = getLangStrings();\n        getStrings(strings).then(function(strs) {\n            ModalVideo.strings = stringsTransform({...strings, ...strs});\n        });\n        let modalRoot = resolve.getRoot();\n        $(modalRoot).find('.modal-dialog').css('max-width', '1500px');\n        $(modalRoot).find('.modal-body').css('height', '770px');\n        $(modalRoot).find('.modal-body').css('overflow-y', 'auto');\n        $(modalRoot).find('.modal-dialog').addClass('modal_dialog_lan_reader');\n        $(modalRoot).find('.modal-content').addClass('modal_content_lan_reader');\n        ModalVideo.printTocs();\n    });\n    $(trigger).on(CustomEvents.events.activate, () => {\n        modal.then((resolve) => {\n            resolve.show().then(() => {\n                ModalVideo.printTocs();\n            });\n        });\n    });\n};"],"names":["strings","getLangStrings","names","forEach","value","push","key","component","stringsTransform","langStrings","resultStrings","index","trigger","modal","ModalVideo","create","then","resolve","strs","modalRoot","getRoot","find","css","addClass","printTocs","on","CustomEvents","events","activate","show"],"mappings":"shBAMoB,WACVA,QAAU,CACZ,kBAEEC,eAAiB,SACfC,MAAQ,UACZF,QAAQG,SAAQ,SAAUC,OACtBF,MAAMG,KAAK,CAACC,IAAKF,MAAOG,UAAW,kBAEhCL,OAELM,iBAAoBC,kBAClBC,cAAgB,UACpBV,QAAQG,SAAQ,SAAUC,MAAOO,OAC7BD,cAAcN,OAASK,YAAYE,UAEhCD,eAELE,SAAU,mBAAE,0BACZC,MAAQC,qBAAWC,OAAO,IAChCF,MAAMG,MAAKC,gBACDjB,QAAUC,qCACLD,SAASgB,MAAK,SAASE,2BACnBlB,QAAUQ,iBAAiB,IAAIR,WAAYkB,cAEtDC,UAAYF,QAAQG,8BACtBD,WAAWE,KAAK,iBAAiBC,IAAI,YAAa,8BAClDH,WAAWE,KAAK,eAAeC,IAAI,SAAU,6BAC7CH,WAAWE,KAAK,eAAeC,IAAI,aAAc,4BACjDH,WAAWE,KAAK,iBAAiBE,SAAS,+CAC1CJ,WAAWE,KAAK,kBAAkBE,SAAS,iDAClCC,mCAEbZ,SAASa,GAAGC,mCAAaC,OAAOC,UAAU,KACxCf,MAAMG,MAAMC,UACRA,QAAQY,OAAOb,MAAK,0BACLQ"}