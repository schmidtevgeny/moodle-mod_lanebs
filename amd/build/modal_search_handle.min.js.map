{"version":3,"file":"modal_search_handle.min.js","sources":["../src/modal_search_handle.js"],"sourcesContent":["define([\"exports\", \"jquery\", \"core/modal_factory\", \"core/str\", \"mod_lanebs/modal_search\"],\n    function (exports, $, ModalFactory, Str, ModalSearch) {\n        return {\n            init: function () {\n                let trigger = $('#id_modal_show_button');\n                let strings = [\n                    'lanebs_error_textbox',\n                    'lanebs_error_search',\n                    'lanebs_show_desc',\n                    'lanebs_read_pg',\n                    'lanebs_error_book',\n                    'lanebs_cover',\n                    'lanebs_add',\n                    'lanebs_preshow',\n                    'lanebs_error_empty_search',\n                    'lanebs_BACK',\n                    'lanebs_from',\n                ];\n                let getLangStrings = function () {\n                    let names = [];\n                    strings.forEach(function (value, index) {\n                        names.push({key: value, component: 'mod_lanebs'});\n                    });\n                    return names;\n                };\n                let stringsTransform = function (langStrings) {\n                    let resultStrings = [];\n                    strings.forEach(function (value, index) {\n                        resultStrings[value] = langStrings[index];\n                    });\n                    return resultStrings;\n                };\n                ModalFactory.create({type: ModalSearch.TYPE}, trigger).then(function (modal) {\n                    Str.get_strings(getLangStrings()).\n                        done(function (strs) {ModalSearch.prototype.strings = stringsTransform(strs);}).\n                        fail(function (e) {console.log(e);});\n                    $(modal.getRoot()).find('.modal-dialog').css('max-width', '1500px');\n                    $(modal.getRoot()).find('.modal-body').css('height', '770px');\n                    $(modal.getRoot()).find('.modal-body').css('overflow-y', 'auto');\n                    ModalSearch.prototype.getAjaxCall('mod_lanebs_auth', [], function (data) {\n                        if (data['code'] === 403 || data['code'] === 401) {\n                            Str.get_string('lanebs_auth_error', 'mod_lanebs').then(function (str) {\n                                console.log(str);\n                            });\n                        }\n                    });\n                });\n            }\n        };\n    });"],"names":["define","exports","$","ModalFactory","Str","ModalSearch","init","trigger","strings","create","type","TYPE","then","modal","get_strings","names","forEach","value","index","push","key","component","getLangStrings","done","strs","prototype","langStrings","resultStrings","stringsTransform","fail","e","console","log","getRoot","find","css","getAjaxCall","data","get_string","str"],"mappings":"AAAAA,wCAAO,CAAC,UAAW,SAAU,qBAAsB,WAAY,4BAC3D,SAAUC,QAASC,EAAGC,aAAcC,IAAKC,aACrC,MAAO,CACHC,KAAM,WACF,IAAIC,QAAUL,EAAE,yBACZM,QAAU,CACV,uBACA,sBACA,mBACA,iBACA,oBACA,eACA,aACA,iBACA,4BACA,cACA,eAgBJL,aAAaM,OAAO,CAACC,KAAML,YAAYM,MAAOJ,SAASK,MAAK,SAAUC,OAClET,IAAIU,YAfa,WACjB,IAAIC,MAAQ,GAIZ,OAHAP,QAAQQ,SAAQ,SAAUC,MAAOC,OAC7BH,MAAMI,KAAK,CAACC,IAAKH,MAAOI,UAAW,kBAEhCN,MAUSO,IACZC,MAAK,SAAUC,MAAOnB,YAAYoB,UAAUjB,QAT7B,SAAUkB,aAC7B,IAAIC,cAAgB,GAIpB,OAHAnB,QAAQQ,SAAQ,SAAUC,MAAOC,OAC7BS,cAAcV,OAASS,YAAYR,UAEhCS,cAImDC,CAAiBJ,SACvEK,MAAK,SAAUC,GAAIC,QAAQC,IAAIF,MACnC5B,EAAEW,MAAMoB,WAAWC,KAAK,iBAAiBC,IAAI,YAAa,UAC1DjC,EAAEW,MAAMoB,WAAWC,KAAK,eAAeC,IAAI,SAAU,SACrDjC,EAAEW,MAAMoB,WAAWC,KAAK,eAAeC,IAAI,aAAc,QACzD9B,YAAYoB,UAAUW,YAAY,kBAAmB,IAAI,SAAUC,MAC1C,MAAjBA,KAAW,MAA8B,MAAjBA,KAAW,MACnCjC,IAAIkC,WAAW,oBAAqB,cAAc1B,MAAK,SAAU2B,KAC7DR,QAAQC,IAAIO,eAOxC"}