{"version":3,"sources":["../src/modal_search_handle.js"],"names":["define","exports","$","ModalFactory","Str","ModalSearch","init","trigger","strings","getLangStrings","names","forEach","value","push","key","component","stringsTransform","langStrings","resultStrings","index","create","type","TYPE","then","modal","get_strings","done","strs","prototype","fail","e","console","log","getRoot","find","css","getAjaxCall","data","get_string","str"],"mappings":"AAAAA,OAAM,kCAAC,CAAC,SAAD,CAAY,QAAZ,CAAsB,oBAAtB,CAA4C,UAA5C,CAAwD,yBAAxD,CAAD,CACF,SAAUC,CAAV,CAAmBC,CAAnB,CAAsBC,CAAtB,CAAoCC,CAApC,CAAyCC,CAAzC,CAAsD,CAClD,MAAO,CACHC,IAAI,CAAE,eAAY,IACVC,CAAAA,CAAO,CAAGL,CAAC,CAAC,uBAAD,CADD,CAEVM,CAAO,CAAG,CACV,sBADU,CAEV,qBAFU,CAGV,kBAHU,CAIV,gBAJU,CAKV,mBALU,CAMV,cANU,CAOV,YAPU,CAQV,gBARU,CASV,2BATU,CAUV,aAVU,CAWV,aAXU,CAFA,CAeVC,CAAc,CAAG,UAAY,CAC7B,GAAIC,CAAAA,CAAK,CAAG,EAAZ,CACAF,CAAO,CAACG,OAAR,CAAgB,SAAUC,CAAV,CAAwB,CACpCF,CAAK,CAACG,IAAN,CAAW,CAACC,GAAG,CAAEF,CAAN,CAAaG,SAAS,CAAE,YAAxB,CAAX,CACH,CAFD,EAGA,MAAOL,CAAAA,CACV,CArBa,CAsBVM,CAAgB,CAAG,SAAUC,CAAV,CAAuB,CAC1C,GAAIC,CAAAA,CAAa,CAAG,EAApB,CACAV,CAAO,CAACG,OAAR,CAAgB,SAAUC,CAAV,CAAiBO,CAAjB,CAAwB,CACpCD,CAAa,CAACN,CAAD,CAAb,CAAuBK,CAAW,CAACE,CAAD,CACrC,CAFD,EAGA,MAAOD,CAAAA,CACV,CA5Ba,CA6Bdf,CAAY,CAACiB,MAAb,CAAoB,CAACC,IAAI,CAAEhB,CAAW,CAACiB,IAAnB,CAApB,CAA8Cf,CAA9C,EACKgB,IADL,CACU,SAAUC,CAAV,CAAiB,CACnBpB,CAAG,CAACqB,WAAJ,CAAgBhB,CAAc,EAA9B,EACIiB,IADJ,CACS,SAAUC,CAAV,CAAgB,CAACtB,CAAW,CAACuB,SAAZ,CAAsBpB,OAAtB,CAAgCQ,CAAgB,CAACW,CAAD,CAAQ,CADlF,EAEIE,IAFJ,CAES,SAAUC,CAAV,CAAa,CAACC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAAgB,CAFvC,EAGA5B,CAAC,CAACsB,CAAK,CAACS,OAAN,EAAD,CAAD,CAAmBC,IAAnB,CAAwB,eAAxB,EAAyCC,GAAzC,CAA6C,WAA7C,CAA0D,QAA1D,EACAjC,CAAC,CAACsB,CAAK,CAACS,OAAN,EAAD,CAAD,CAAmBC,IAAnB,CAAwB,aAAxB,EAAuCC,GAAvC,CAA2C,QAA3C,CAAqD,OAArD,EACAjC,CAAC,CAACsB,CAAK,CAACS,OAAN,EAAD,CAAD,CAAmBC,IAAnB,CAAwB,aAAxB,EAAuCC,GAAvC,CAA2C,YAA3C,CAAyD,MAAzD,EACA9B,CAAW,CAACuB,SAAZ,CAAsBQ,WAAtB,CAAkC,iBAAlC,CAAqD,EAArD,CAAyD,SAAUC,CAAV,CAAgB,CACrE,GAAqB,GAAjB,GAAAA,CAAI,KAAJ,EAAyC,GAAjB,GAAAA,CAAI,KAAhC,CAAkD,CAC9CjC,CAAG,CAACkC,UAAJ,CAAe,mBAAf,CAAoC,YAApC,EAAkDf,IAAlD,CAAuD,SAAUgB,CAAV,CAAe,CAClER,OAAO,CAACC,GAAR,CAAYO,CAAZ,CACH,CAFD,CAGH,CACJ,CAND,CAOH,CAfL,CAgBH,CA9CE,CAgDV,CAlDC,CAAN","sourcesContent":["define([\"exports\", \"jquery\", \"core/modal_factory\", \"core/str\", \"mod_lanebs/modal_search\"],\n    function (exports, $, ModalFactory, Str, ModalSearch) {\n        return {\n            init: function () {\n                let trigger = $('#id_modal_show_button');\n                let strings = [\n                    'lanebs_error_textbox',\n                    'lanebs_error_search',\n                    'lanebs_show_desc',\n                    'lanebs_read_pg',\n                    'lanebs_error_book',\n                    'lanebs_cover',\n                    'lanebs_add',\n                    'lanebs_preshow',\n                    'lanebs_error_empty_search',\n                    'lanebs_BACK',\n                    'lanebs_from',\n                ];\n                let getLangStrings = function () {\n                    let names = [];\n                    strings.forEach(function (value, index) {\n                        names.push({key: value, component: 'mod_lanebs'});\n                    });\n                    return names;\n                };\n                let stringsTransform = function (langStrings) {\n                    let resultStrings = [];\n                    strings.forEach(function (value, index) {\n                        resultStrings[value] = langStrings[index];\n                    });\n                    return resultStrings;\n                };\n                ModalFactory.create({type: ModalSearch.TYPE}, trigger)\n                    .then(function (modal) {\n                        Str.get_strings(getLangStrings()).\n                            done(function (strs) {ModalSearch.prototype.strings = stringsTransform(strs);}).\n                            fail(function (e) {console.log(e);});\n                        $(modal.getRoot()).find('.modal-dialog').css('max-width', '1500px');\n                        $(modal.getRoot()).find('.modal-body').css('height', '770px');\n                        $(modal.getRoot()).find('.modal-body').css('overflow-y', 'auto');\n                        ModalSearch.prototype.getAjaxCall('mod_lanebs_auth', [], function (data) {\n                            if (data['code'] === 403 || data['code'] === 401) {\n                                Str.get_string('lanebs_auth_error', 'mod_lanebs').then(function (str) {\n                                    console.log(str);\n                                });\n                            }\n                        });\n                    });\n            }\n        };\n    });"],"file":"modal_search_handle.min.js"}