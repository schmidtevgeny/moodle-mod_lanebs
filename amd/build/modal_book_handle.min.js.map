{"version":3,"sources":["../src/modal_book_handle.js"],"names":["define","exports","$","ModalFactory","CustomEvents","ModalBook","init","e","id","page","type","trigger","currentTarget","closest","find","attr","pageNumber","create","TYPE","then","modal","console","log","show","modalRoot","getRoot","CONTENT_BLOCK","addClass"],"mappings":"AAAAA,OAAM,gCAAC,CAAC,SAAD,CAAY,QAAZ,CAAsB,oBAAtB,CAA4C,gCAA5C,CAA8E,uBAA9E,CAAD,CACF,SAAUC,CAAV,CAAmBC,CAAnB,CAAsBC,CAAtB,CAAoCC,CAApC,CAAkDC,CAAlD,CAA6D,CACzD,MAAO,CACHC,IAAI,CAAE,cAAUC,CAAV,CAAoD,IAAvCC,CAAAA,CAAuC,wDAAlC,IAAkC,CAA5BC,CAA4B,wDAArB,IAAqB,CAAfC,CAAe,wDAAR,MAAQ,CAClDC,CAAO,CAAGT,CAAC,CAACK,CAAC,CAACK,aAAH,CADuC,CAEtD,GAAI,CAACJ,CAAL,CAAS,CACLA,CAAE,CAAGN,CAAC,CAACS,CAAD,CAAD,CAAWE,OAAX,CAAmB,iBAAnB,EAAsCC,IAAtC,CAA2C,OAA3C,EAAoDC,IAApD,CAAyD,SAAzD,CACR,CACD,GAAIC,CAAAA,CAAU,CAAGP,CAAI,EAAIP,CAAC,CAACS,CAAD,CAAD,CAAWE,OAAX,CAAmB,iBAAnB,EAAsCC,IAAtC,CAA2C,OAA3C,EAAoDC,IAApD,CAAyD,WAAzD,CAAzB,CAEIZ,CAAY,CAACc,MAAb,CAAoB,CAACP,IAAI,CAAEL,CAAS,CAACa,IAAjB,CAApB,CAA4CP,CAA5C,CAAqDH,CAArD,CAAyDQ,CAAzD,CAAqEN,CAArE,EAA2ES,IAA3E,CAAgF,SAAUC,CAAV,CAAiB,CAC7FC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACAA,CAAK,CAACG,IAAN,GACA,GAAIC,CAAAA,CAAS,CAAGJ,CAAK,CAACK,OAAN,EAAhB,CACAvB,CAAC,CAACsB,CAAD,CAAD,CAAaV,IAAb,CAAkBT,CAAS,CAACqB,aAA5B,EAA2CX,IAA3C,CAAgD,SAAhD,CAA2DP,CAA3D,EACAN,CAAC,CAACsB,CAAD,CAAD,CAAaV,IAAb,CAAkBT,CAAS,CAACqB,aAA5B,EAA2CX,IAA3C,CAAgD,WAAhD,CAA6DC,CAA7D,EACAd,CAAC,CAACsB,CAAD,CAAD,CAAaV,IAAb,CAAkBT,CAAS,CAACqB,aAA5B,EAA2CX,IAA3C,CAAgD,WAAhD,CAA6DL,CAA7D,EACAR,CAAC,CAACsB,CAAD,CAAD,CAAaV,IAAb,CAAkB,eAAlB,EAAmCa,QAAnC,CAA4C,yBAA5C,EACAzB,CAAC,CAACsB,CAAD,CAAD,CAAaV,IAAb,CAAkB,gBAAlB,EAAoCa,QAApC,CAA6C,0BAA7C,EACAzB,CAAC,CAACsB,CAAD,CAAD,CAAaV,IAAb,CAAkBT,CAAS,CAACqB,aAA5B,EAA2Cf,OAA3C,CAAmD,kBAAnD,EACAU,OAAO,CAACC,GAAR,CAAYF,CAAZ,CACH,CAXD,CAaP,CArBE,CAuBV,CAzBC,CAAN","sourcesContent":["define([\"exports\", \"jquery\", \"core/modal_factory\", \"core/custom_interaction_events\", \"mod_lanebs/modal_book\"],\n    function (exports, $, ModalFactory, CustomEvents, ModalBook) {\n        return {\n            init: function (e, id = null, page = null, type = 'book') {\n                let trigger = $(e.currentTarget);\n                if (!id) {\n                    id = $(trigger).closest('.item-container').find('.item').attr('data-id');\n                }\n                let pageNumber = page ?? $(trigger).closest('.item-container').find('.item').attr('data-page');\n                //$(trigger).on(CustomEvents.events.activate, function(event) {\n                    ModalFactory.create({type: ModalBook.TYPE}, trigger, id, pageNumber, type).then(function (modal) {\n                        console.log(modal);\n                        modal.show();\n                        let modalRoot = modal.getRoot();\n                        $(modalRoot).find(ModalBook.CONTENT_BLOCK).attr('data-id', id);\n                        $(modalRoot).find(ModalBook.CONTENT_BLOCK).attr('data-page', pageNumber);\n                        $(modalRoot).find(ModalBook.CONTENT_BLOCK).attr('data-type', type);\n                        $(modalRoot).find('.modal-dialog').addClass('modal_dialog_lan_reader');\n                        $(modalRoot).find('.modal-content').addClass('modal_content_lan_reader');\n                        $(modalRoot).find(ModalBook.CONTENT_BLOCK).trigger('cie:scrollBottom');\n                        console.log(modal);\n                    });\n                //});\n            }\n        };\n    });"],"file":"modal_book_handle.min.js"}