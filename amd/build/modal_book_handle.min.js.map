{"version":3,"file":"modal_book_handle.min.js","sources":["../src/modal_book_handle.js"],"sourcesContent":["import $ from 'jquery';\nimport CustomEvents from 'core/custom_interaction_events';\nimport ModalBook from \"./modal_book\";\n\nexport const init = (e, id = null, page = null, type = 'book') => {\n    let trigger = $(e.currentTarget);\n    if (!id) {\n        id = $(trigger).closest('.item-container').find('.item').attr('data-id');\n    }\n    let pageNumber = page ?? $(trigger).closest('.item-container').find('.item').attr('data-page');\n    const modal = ModalBook.create({removeOnClose: true});\n    modal.then((resolve) => {\n        const modalRoot = resolve.getRoot();\n        $(modalRoot).find(ModalBook.CONTENT_BLOCK).attr('data-id', id);\n        $(modalRoot).find(ModalBook.CONTENT_BLOCK).attr('data-page', pageNumber);\n        $(modalRoot).find(ModalBook.CONTENT_BLOCK).attr('data-type', type);\n        $(modalRoot).find('.modal-dialog').addClass('modal_dialog_lan_reader');\n        $(modalRoot).find('.modal-content').addClass('modal_content_lan_reader');\n        $(modalRoot).find(ModalBook.CONTENT_BLOCK).trigger('cie:scrollBottom');\n    });\n    $(trigger).on(CustomEvents.events.activate, () => {\n        modal.then((resolve) => {\n            resolve.show();\n        });\n    });\n};\n"],"names":["e","id","page","type","trigger","currentTarget","closest","find","attr","pageNumber","modal","ModalBook","create","removeOnClose","then","resolve","modalRoot","getRoot","CONTENT_BLOCK","addClass","on","CustomEvents","events","activate","show"],"mappings":"igBAIoB,SAACA,OAAGC,0DAAK,KAAMC,4DAAO,KAAMC,4DAAO,OAC/CC,SAAU,mBAAEJ,EAAEK,eACbJ,KACDA,IAAK,mBAAEG,SAASE,QAAQ,mBAAmBC,KAAK,SAASC,KAAK,gBAE9DC,WAAaP,MAAAA,KAAAA,MAAQ,mBAAEE,SAASE,QAAQ,mBAAmBC,KAAK,SAASC,KAAK,mBAC5EE,MAAQC,oBAAUC,OAAO,CAACC,eAAe,IAC/CH,MAAMI,MAAMC,gBACFC,UAAYD,QAAQE,8BACxBD,WAAWT,KAAKI,oBAAUO,eAAeV,KAAK,UAAWP,wBACzDe,WAAWT,KAAKI,oBAAUO,eAAeV,KAAK,YAAaC,gCAC3DO,WAAWT,KAAKI,oBAAUO,eAAeV,KAAK,YAAaL,0BAC3Da,WAAWT,KAAK,iBAAiBY,SAAS,+CAC1CH,WAAWT,KAAK,kBAAkBY,SAAS,gDAC3CH,WAAWT,KAAKI,oBAAUO,eAAed,QAAQ,2CAErDA,SAASgB,GAAGC,mCAAaC,OAAOC,UAAU,KACxCb,MAAMI,MAAMC,UACRA,QAAQS"}